# Задание для собеседования

### Пояснения по выполненному заданию:
Результатом выполнения задания служит REST-совместимое SpringBoot-приложение.
В качестве базы данных была выбрана PostgreSQL (вывод, исходя из номера порта в нулевом задании).
Схема БД автоматически разворачивается и доступна для версионирования через changelog'и Liquibase.
Референс схемы приложен в sql-скрипте, в каталоге "resources".
Также к приложению написаны интеграционные и юнит-тесты. 
Для выполнения интеграционных тестов используется in-memory H2 Database.

Для облегчения ручного тестирования приложения проверяющим, был добавлен дополнительный endpoint:
```
POST hostname:port/interview-task/preload
```
Данный эндпоинт позволяет предзагрузить объектные сущности в БД, предварительно определенные
в имплементации компонента "utils.preloader.Preload". Стандартная имплементация, используемая для 
демонстрации инициализации сервиса, определена в классе "PreloadWithRandomData".
Для выполнения предзагрузки, в теле запроса необходимо передать флаг выполнения, строкой вида "execute".

База данных и само приложение расположены в отдельных контейнерах, 
объединённых в многоконтейнерное приложение с помощью Docker-Compose.
Для сборки приложения из исходников, перейдите в корневую папку проекта, и выполните команду:

```
./mvnw clean install
```

Далее, для сборки образов и запуска контейнера, выполните:

```
docker-compose up
```

И, соответственно, для завершения работы контейнера, выполните:
```
docker-compose down
```


Также для данного репозитория настроена автоматическая сборка и деплой приложения в облако. Демонстрация работы приложения досутпна [тут](https://rareart-interview-task.herokuapp.com/interview-task)

Задание было выполнено в соотвествии с нижеперечисленными требованиями:

### Задача 0
Развернуть контроллер, который слушает запросы 
по адресу http://localhost:8082/{название-приложения}. 
Добавить необходимые классы и аннотации для работы с БД. 
Настроить подключение к БД по адресу localhost:5432, к бд service, 
с пользователем interviewer и паролем three_tasks.

### Задача 1
В запросе в хедере  передаётся список id сущностей в БД. 
Если они все есть в БД, то вернуть все сущности. 
Если нет, то выбросить exception и передать в нём те id, которых нет в БД.

### Задача 2
В запросе в query параметрах передаётся code и sysname. 
Если передан code, надо найти в БД сущности с таким же code.
Если передан sysname, надо найти в БД сущности с таким же sysname.
Если ничего не передано, вернуть всё что есть в БД.

### Задача 3
В запросе в пути передаётся sysname. 
По этому sysname найти список объектов из БД. 
Вернуть список найденных объектов и кол-во непрочитанных объектов (watched_dttm = null). 
Если непрочитанных нет, вернуть пустой список.
